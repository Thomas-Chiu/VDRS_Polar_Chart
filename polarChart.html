<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <title>ECharts</title>
  <style>
    #main {
      width: 75vw;
      height: 100vh;
      margin: auto;
      }
  </style>
</head>

<body>
  <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
  <div id="main"></div>

  <!-- 引用 echarts.min.js -->
  <script src="./js/echarts.min.js"></script>

<script>
let chartDom = document.getElementById('main');
let myChart = echarts.init(chartDom);
let option;
let data = [];
let data2 = [];
let busId = "ABC-1234"

for (let i = 0; i <= 1000; i++) {
    let r =Math.round(Math.random()*100);
    data.push([r, i]);
}

for (let i = 0; i <= 1000; i++) {
    let r =Math.round(Math.random()*120);
    data2.push([r, i]);
}

console.log(data);

for (let i = 1; i <= 360; i++) {
    let r =Math.round(Math.random()*240);
    data2.push([r, i]);
}


option = {
    title: {
        text: '數位大餅圖'
    },
    legend: {
        // legend.data 和 series[].data 名字要一樣
        data: ['車速', '里程數']
    },
    polar: {
        center: ['50%', '50%'],
        radius: ['45%', '75%'] // [內半徑, 外半徑]
    },    
    tooltip: { 
      trigger: 'axis', // axis 有提示框
      axisPointer: { type: 'cross' } 
    },
    angleAxis: {
        type: 'time',
        startAngle: -90,
        splitNumber: 0,
        axisLine: { show: false },
    },
    radiusAxis: {
        min: 0,
        max: function(value) {
          return value.max + 50
        }
    },
    series: [
      {
        type: 'line',
        name: '車速',
        coordinateSystem: 'polar',
        showSymbol: false,
        data: data,
        lineStyle: { width: 1 }
      },
      // {
      //   type: 'line',
      //   name: '里程數',
      //   coordinateSystem: 'polar',
      //   showSymbol: false,
      //   data: data2,
      //   lineStyle: { width: 1 }
      // },
      { // 外圈儀表
        type: 'gauge',
        name: '儀錶板',
        title: { 
          show: true,
          fontWeight: 'bold',
          fontSize: 30,
          offsetCenter: [0, 0]
        },
        data: [
          { 
            value: null, 
            name: busId,
            detail: { show: false }
          }
        ],
        pointer: { show: false },
        splitNumber : 24,
        min: 0,
        max: 24,
        splitLine: { distance: -50, length: 0 },
        axisLine: { show: false },
        axisLabel: { 
          // show: false,
          distance: 25, 
          fontWeight: 'bold',
          fontSize: 16
        },
        axisTick: { 
          splitNumber: 2, 
          length: 12.5, 
          distance: -10,
        },
      }
  ],
    animationDuration: 2000
};


option && myChart.setOption(option);
</script>
</body>
</html>
